/* ========================================
   MOBILE SCROLL FIX - Sửa lỗi không scroll được
   CRITICAL FIX: Force enable scrolling on mobile
   ======================================== */

/* FORCE enable scroll trên body và html */
html {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    height: auto !important;
    min-height: 100vh !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-y: contain !important;
}

body {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    height: auto !important;
    min-height: 100vh !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-y: contain !important;
    touch-action: pan-y pinch-zoom !important;
    position: relative !important;
}

/* Main content PHẢI scroll được */
.main-content {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y pinch-zoom !important;
    height: auto !important;
    min-height: calc(100vh - var(--nav-height, 60px)) !important;
    position: relative !important;
}

/* Các page PHẢI scroll được */
.page {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y pinch-zoom !important;
    height: auto !important;
    min-height: 100% !important;
    position: relative !important;
}

/* CHỈ chặn touch-action trên draggable letters khi đang kéo */
.draggable-letter {
    touch-action: none !important;
}

/* Tất cả element khác CHO PHÉP scroll */
.theme-selection,
.level-selection,
.game-area,
.shop-items-grid,
.words-learned-list,
.profile-stats,
.home-hero,
.shop-header,
.profile-header,
.container {
    touch-action: pan-y pinch-zoom !important;
    -webkit-overflow-scrolling: touch !important;
}

/* Fix đặc biệt cho iOS Safari */
@supports (-webkit-touch-callout: none) {

    html,
    body {
        position: relative !important;
        overflow-y: scroll !important;
        height: auto !important;
    }

    .main-content,
    .page {
        position: relative !important;
        overflow-y: scroll !important;
        height: auto !important;
    }
}

/* Fix cho Android Chrome */
@media screen and (max-width: 768px) {

    html,
    body {
        overflow-y: scroll !important;
        height: auto !important;
        min-height: 100vh !important;
    }

    body {
        touch-action: pan-y pinch-zoom !important;
    }

    .main-content {
        overflow-y: scroll !important;
        height: auto !important;
        min-height: calc(100vh - 60px) !important;
    }

    .page {
        overflow-y: scroll !important;
        height: auto !important;
    }
}

/* Đảm bảo không có element nào chặn scroll */
* {
    overscroll-behavior: auto !important;
}

/* Remove any height restrictions */
.page.active {
    height: auto !important;
    max-height: none !important;
}

/* Ensure content can expand */
#pageHome,
#pagePlay,
#pageShop,
#pageProfile,
#pageParent {
    height: auto !important;
    min-height: calc(100vh - 60px) !important;
    overflow-y: scroll !important;
}